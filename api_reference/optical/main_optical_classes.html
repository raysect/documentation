

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.1. Main Optical Classes &mdash; Raysect Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/RaysectLogo_web.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme.css" type="text/css" />
  

  
    <link rel="top" title="Raysect Documentation" href="../../index.html"/>
        <link rel="up" title="3. Optical Module" href="optical.html"/>
        <link rel="next" title="3.2. Observers" href="observers.html"/>
        <link rel="prev" title="3. Optical Module" href="optical.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Raysect
          

          
            
            <img src="../../_static/RaysectLogo_web.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">2. Downloading and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_it_works.html">3. How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart_guide.html">4. Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primitives.html">5. Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../materials.html">6. Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">7. Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">8. References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">9. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">10. Need Help?</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html">1. Core Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html#examples-gallery">2. Examples Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/core.html">1. Raysect Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../primitives/primitives.html">2. Primitives Module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="optical.html">3. Optical Module</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.1. Main Optical Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#optical-rays">3.1.1. Optical Rays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spectral-functions">3.1.2. Spectral Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#colours">3.1.3. Colours</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optical-scenegraph">3.1.4. Optical Scenegraph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="observers.html">3.2. Observers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipelines.html">3.3. Frame Samples and Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_material_base_classes.html">3.4. Optical Material Base Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_surfaces.html">3.5. Optical Surface Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_volumes.html">3.6. Optical Volume Materials</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Raysect</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="optical.html">3. Optical Module</a> &raquo;</li>
        
      <li>3.1. Main Optical Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api_reference/optical/main_optical_classes.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="main-optical-classes">
<h1>3.1. Main Optical Classes<a class="headerlink" href="#main-optical-classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="optical-rays">
<h2>3.1.1. Optical Rays<a class="headerlink" href="#optical-rays" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.ray.Ray">
<em class="property">class </em><code class="descclassname">raysect.optical.ray.</code><code class="descname">Ray</code><a class="headerlink" href="#raysect.optical.ray.Ray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/core_classes.html#raysect.core.ray.Ray" title="raysect.core.ray.Ray"><code class="xref py py-class docutils literal"><span class="pre">raysect.core.ray.Ray</span></code></a></p>
<p>Optical Ray class for optical applications, inherits from core Ray class.</p>
<p>Provides the trace(world) method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; Point defining ray’s origin (default=Point3D(0, 0, 0))</li>
<li><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) &#8211; Vector defining ray’s direction (default=Vector3D(0, 0, 1))</li>
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; Lower wavelength bound for observed spectrum</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; Upper wavelength bound for observed spectrum</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; Number of samples to use over the spectral range</li>
<li><strong>max_distance</strong> (<em>float</em>) &#8211; The terminating distance of the ray</li>
<li><strong>extinction_prob</strong> (<em>float</em>) &#8211; Probability of path extinction at every
material surface interaction (default=0.1)</li>
<li><strong>extinction_min_depth</strong> (<em>int</em>) &#8211; Minimum number of paths before triggering
extinction probability (default=3)</li>
<li><strong>max_depth</strong> (<em>int</em>) &#8211; Maximum number of material interactions before
terminating ray trajectory.</li>
<li><strong>importance_sampling</strong> (<em>bool</em>) &#8211; Toggles use of importance sampling for
important primitives. See help documentation on importance sampling,
(default=True).</li>
<li><strong>important_path_weight</strong> (<em>float</em>) &#8211; Weight to use for important paths when
using importance sampling.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="raysect.optical.ray.Ray.bins">
<code class="descname">bins</code><a class="headerlink" href="#raysect.optical.ray.Ray.bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of spectral bins across wavelength range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a new Ray object with the same configuration settings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; New Ray&#8217;s origin position.</li>
<li><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) &#8211; New Ray&#8217;s direction.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#raysect.optical.ray.Ray" title="raysect.optical.ray.Ray">Ray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.extinction_min_depth">
<code class="descname">extinction_min_depth</code><a class="headerlink" href="#raysect.optical.ray.Ray.extinction_min_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of paths before triggering extinction probability.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.extinction_prob">
<code class="descname">extinction_prob</code><a class="headerlink" href="#raysect.optical.ray.Ray.extinction_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Probability of path extinction at every material surface interaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.important_path_weight">
<code class="descname">important_path_weight</code><a class="headerlink" href="#raysect.optical.ray.Ray.important_path_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight to use for important paths when using importance sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.max_depth">
<code class="descname">max_depth</code><a class="headerlink" href="#raysect.optical.ray.Ray.max_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of material interactions before terminating ray trajectory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.max_wavelength">
<code class="descname">max_wavelength</code><a class="headerlink" href="#raysect.optical.ray.Ray.max_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper bound on wavelength range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.min_wavelength">
<code class="descname">min_wavelength</code><a class="headerlink" href="#raysect.optical.ray.Ray.min_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower bound on wavelength range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.new_spectrum">
<code class="descname">new_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.new_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Spectrum compatible with the ray spectral settings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples the radiance directed along the ray direction.</p>
<p>This methods calls trace repeatedly to obtain a statistical sample of
the radiance directed along the ray direction from the world. The count
parameter specifies the number of samples to obtain. The mean spectrum
accumulated from these samples is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>world</strong> (<a class="reference internal" href="../core/raysect_core_scenegraph.html#raysect.core.scenegraph.world.World" title="raysect.core.scenegraph.world.World"><em>World</em></a>) &#8211; World object defining the scene.</li>
<li><strong>count</strong> (<em>int</em>) &#8211; Number of samples to take.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The accumulated spectrum collected by the ray.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.spawn_daughter">
<code class="descname">spawn_daughter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.spawn_daughter" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawns a new daughter of the ray.</p>
<p>A daughter ray has the same spectral configuration as the source ray,
however the ray depth is increased by 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; A Point3D defining the ray origin.</li>
<li><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) &#8211; A vector defining the ray direction.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A daughter Ray object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#raysect.optical.ray.Ray" title="raysect.optical.ray.Ray">Ray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.trace">
<code class="descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Traces a single ray path through the world.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>world</strong> (<a class="reference internal" href="../core/raysect_core_scenegraph.html#raysect.core.scenegraph.world.World" title="raysect.core.scenegraph.world.World"><em>World</em></a>) &#8211; World object defining the scene.</li>
<li><strong>keep_alive</strong> (<em>bool</em>) &#8211; If true, disables Russian roulette termination of the ray.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The resulting Spectrum object collected by the ray.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.wavelength_range">
<code class="descname">wavelength_range</code><a class="headerlink" href="#raysect.optical.ray.Ray.wavelength_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper and lower wavelength range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spectral-functions">
<h2>3.1.2. Spectral Functions<a class="headerlink" href="#spectral-functions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.spectralfunction.SpectralFunction">
<em class="property">class </em><code class="descclassname">raysect.optical.spectralfunction.</code><code class="descname">SpectralFunction</code><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>SpectralFunction abstract base class.</p>
<p>A common interface for representing optical properties that are a function
of wavelength. It provides methods for sampling, integrating and averaging
a spectral function over specified wavelength ranges. The optical package
uses SpectralFunctions to represent a number of different wavelength
dependent optical properties, for example emission spectra, refractive
indices and attenuation curves.</p>
<p>Deriving classes must implement the integrate method.</p>
<p>It is also recommended that subclasses implement __call__(). This should
accept a single argument - wavelength - and return a single sample of the
function at that wavelength. The units of wavelength are nanometers.</p>
<p>A number of utility sub-classes exist to simplify SpectralFunction
development.</p>
<p>see also: NumericallyIntegratedSF, InterpolatedSF, ConstantSF, Spectrum</p>
<dl class="method">
<dt id="raysect.optical.spectralfunction.SpectralFunction.average">
<code class="descname">average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Average radiance over the requested spectral range (W/m^2/sr/nm).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; lower wavelength for calculation</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; upper wavelength for calculation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.SpectralFunction.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-sample the spectral function with a new wavelength range and resolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; lower wavelength for calculation</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; upper wavelength for calculation</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; The number of spectral bins</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectrum.Spectrum">
<em class="property">class </em><code class="descclassname">raysect.optical.spectrum.</code><code class="descname">Spectrum</code><a class="headerlink" href="#raysect.optical.spectrum.Spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>A class for working with spectra.</p>
<p>Describes the distribution of light at each wavelength in units of radiance (W/m^2/str/nm).
Spectral samples are regularly spaced over the wavelength range and lie in the centre of
the wavelength bins.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; Lower wavelength bound for this spectrum</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; Upper wavelength bound for this spectrum</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; Number of samples to use over the spectral range</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.average">
<code class="descname">average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the average number of spectral samples over the specified wavelength range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Average radiance in W/m^2/str/nm</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the sample values in the spectrum to zero.</p>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the spectrum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the integrated radiance over the specified spectral range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Integrated radiance in W/m^2/str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.is_compatible">
<code class="descname">is_compatible</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.is_compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the stored samples are consistent with the specified
wavelength range and sample size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; The number of bins.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the samples are compatible with the range/samples, False otherwise.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.is_zero">
<code class="descname">is_zero</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.is_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to determine if all the samples are zero.</p>
<p>True if the spectrum is zero, False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.new_spectrum">
<code class="descname">new_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.new_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Spectrum compatible with the same spectral settings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-sample this spectrum over a new spectral range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; The number of spectral bins.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.to_photons">
<code class="descname">to_photons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.to_photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the spectrum sample array from radiance W/m^2/str/nm to Photons/s/m^2/str/nm
and returns the data in a numpy array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.total">
<code class="descname">total</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.total" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the total radiance integrated over the whole spectral range.</p>
<p>Returns radiance in W/m^2/str</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.spectrum.Spectrum.wavelengths">
<code class="descname">wavelengths</code><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.wavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Wavelength array in nm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectralfunction.NumericallyIntegratedSF">
<em class="property">class </em><code class="descclassname">raysect.optical.spectralfunction.</code><code class="descname">NumericallyIntegratedSF</code><a class="headerlink" href="#raysect.optical.spectralfunction.NumericallyIntegratedSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>Numerically integrates a supplied function.</p>
<p>This abstract class provides an implementation of the integrate method that
numerically integrates a supplied function (typically a non-integrable
analytical function). The function to numerically integrate is supplied by
sub-classing this class and implementing the function() method.</p>
<p>The function is numerically sampled at regular intervals. A sampling
resolution may be specified in the class constructor (default: 1 sample/nm).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sample_resolution</strong> (<em>double</em>) &#8211; The numerical sampling resolution in nanometers.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.spectralfunction.NumericallyIntegratedSF.function">
<code class="descname">function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.NumericallyIntegratedSF.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to numerically integrate.</p>
<p>This is a virtual method and must be implemented through sub-classing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wavelength</strong> (<em>double</em>) &#8211; Wavelength in nanometers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Function value at the specified wavelength.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.NumericallyIntegratedSF.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.NumericallyIntegratedSF.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the integrated radiance over the specified spectral range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Integrated radiance in W/m^2/str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectralfunction.InterpolatedSF">
<em class="property">class </em><code class="descclassname">raysect.optical.spectralfunction.</code><code class="descname">InterpolatedSF</code><a class="headerlink" href="#raysect.optical.spectralfunction.InterpolatedSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>Linearly interpolated spectral function.</p>
<p>Spectral function defined by samples of regular or irregular spacing, ends
are extrapolated. You must set the ends to zero if you want the function to
go to zero at the edges!</p>
<p>wavelengths and samples will be sorted during initialisation.</p>
<p>If normalise is set to True the data is rescaled so the integrated area
of the spectral function over the full range of the input data is
normalised to 1.0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>wavelengths</strong> (<em>object</em>) &#8211; 1D array of wavelengths in nanometers.</li>
<li><strong>samples</strong> (<em>object</em>) &#8211; 1D array of spectral samples.</li>
<li><strong>normalise</strong> (<em>bool</em>) &#8211; True/false toggle for whether to normalise the
spectral function so its integral equals 1.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.spectralfunction.InterpolatedSF.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.InterpolatedSF.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the integrated radiance over the specified spectral range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Integrated radiance in W/m^2/str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectralfunction.ConstantSF">
<em class="property">class </em><code class="descclassname">raysect.optical.spectralfunction.</code><code class="descname">ConstantSF</code><a class="headerlink" href="#raysect.optical.spectralfunction.ConstantSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>Constant value spectral function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) &#8211; Constant radiance value</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.spectralfunction.ConstantSF.average">
<code class="descname">average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.ConstantSF.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Average radiance over the requested spectral range (W/m^2/sr/nm).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; lower wavelength for calculation</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; upper wavelength for calculation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.ConstantSF.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.ConstantSF.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the integrated radiance over the specified spectral range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in nanometers</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in nanometers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Integrated radiance in W/m^2/str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.ConstantSF.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.ConstantSF.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-sample the spectral function with a new wavelength range and resolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; lower wavelength for calculation</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; upper wavelength for calculation</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; The number of spectral bins</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="raysect.optical.spectrum.photon_energy">
<code class="descclassname">raysect.optical.spectrum.</code><code class="descname">photon_energy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.photon_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the energy of a photon with the specified wavelength.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wavelength</strong> (<em>float</em>) &#8211; Photon wavelength in nanometers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Photon energy in Joules.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="colours">
<h2>3.1.3. Colours<a class="headerlink" href="#colours" title="Permalink to this headline">¶</a></h2>
<p>The CIE 1931 colour spaces define quantitatively the link between pure physical colours
(i.e. wavelengths in the visible spectrum) and human perceivable colours. The mathematical
relationships between the spectrum and perceivable colours are based on the sensitivity
curves for the three different cone cells in the human eye. Raysect implements three X,
Y, Z normalised spectral functions from the CIE 1931 Standard Colorimetric Observer. For
more information see <a class="reference external" href="https://en.wikipedia.org/wiki/CIE_1931_color_space">Wikipedia</a>.</p>
<dl class="data">
<dt id="raysect.optical.colour.ciexyz_x">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">ciexyz_x</code><a class="headerlink" href="#raysect.optical.colour.ciexyz_x" title="Permalink to this definition">¶</a></dt>
<dd><p>X spectral function from CIE 1931 Standard Colorimetric Observer (normalised)</p>
</dd></dl>

<dl class="data">
<dt id="raysect.optical.colour.ciexyz_y">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">ciexyz_y</code><a class="headerlink" href="#raysect.optical.colour.ciexyz_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Y spectral function from CIE 1931 Standard Colorimetric Observer (normalised)</p>
</dd></dl>

<dl class="data">
<dt id="raysect.optical.colour.ciexyz_z">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">ciexyz_z</code><a class="headerlink" href="#raysect.optical.colour.ciexyz_z" title="Permalink to this definition">¶</a></dt>
<dd><p>Z spectral function from CIE 1931 Standard Colorimetric Observer (normalised)</p>
</dd></dl>

<dl class="data">
<dt id="raysect.optical.colour.d65_white">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">d65_white</code><a class="headerlink" href="#raysect.optical.colour.d65_white" title="Permalink to this definition">¶</a></dt>
<dd><p>CIE D65 standard illuminant, normalised to 1.0 over visual range 375-785 nm</p>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.resample_ciexyz">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">resample_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.resample_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-calculates samples of XYZ sensitivity curves over desired spectral range.</p>
<p>Returns ndarray of shape [N, 3] where the last dimension (0, 1, 2) corresponds
to (X, Y, Z).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; Lower wavelength bound on spectrum</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; Upper wavelength bound on spectrum</li>
<li><strong>bins</strong> (<em>int</em>) &#8211; Number of spectral bins in spectrum</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.spectrum_to_ciexyz">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">spectrum_to_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.spectrum_to_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a tuple of CIE X, Y, Z values from an input spectrum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>spectrum</strong> (<a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum"><em>Spectrum</em></a>) &#8211; Spectrum to process</li>
<li><strong>resampled_xyz</strong> (<em>ndarray</em>) &#8211; Pre-calculated XYZ sensitivity curves optimised
for this spectral range (default=None).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.ciexyy_to_ciexyz">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">ciexyy_to_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.ciexyy_to_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs conversion from CIE xyY to CIE XYZ colour space</p>
<p>Returns a tuple of (X, Y, Z)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cx</strong> (<em>float</em>) &#8211; chromaticity x</li>
<li><strong>cy</strong> (<em>float</em>) &#8211; chromaticity y</li>
<li><strong>y</strong> (<em>float</em>) &#8211; tristimulus Y</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.ciexyz_to_ciexyy">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">ciexyz_to_ciexyy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.ciexyz_to_ciexyy" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs conversion from CIE XYZ to CIE xyY colour space</p>
<p>Returns a tuple of (cx, cy, Y)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) &#8211; tristimulus X</li>
<li><strong>y</strong> (<em>float</em>) &#8211; tristimulus y</li>
<li><strong>z</strong> (<em>float</em>) &#8211; tristimulus Z</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Raysect also supports conversion of CIE colour space values to standard sRGB colour space
as defined by HP and Microsoft in 1996 as per IEC 61966-2-1:1999. For more information
see <a class="reference external" href="https://en.wikipedia.org/wiki/SRGB">Wikipedia</a>.</p>
<dl class="function">
<dt id="raysect.optical.colour.ciexyz_to_srgb">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">ciexyz_to_srgb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.ciexyz_to_srgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert CIE XYZ values to sRGB colour space.</p>
<p>x, y, z in range [0, 1]
r, g, b in range [0, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float</em>) &#8211; tristimulus X</li>
<li><strong>y</strong> (<em>float</em>) &#8211; tristimulus y</li>
<li><strong>z</strong> (<em>float</em>) &#8211; tristimulus Z</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.srgb_to_ciexyz">
<code class="descclassname">raysect.optical.colour.</code><code class="descname">srgb_to_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.srgb_to_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert sRGB values to CIE XYZ colour space.</p>
<p>r, g, b in range [0, 1]
x, y, z in range [0, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<em>float</em>) &#8211; Red value</li>
<li><strong>g</strong> (<em>float</em>) &#8211; Green value</li>
<li><strong>b</strong> (<em>float</em>) &#8211; Blue value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="optical-scenegraph">
<h2>3.1.4. Optical Scenegraph<a class="headerlink" href="#optical-scenegraph" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.scenegraph.world.World">
<em class="property">class </em><code class="descclassname">raysect.optical.scenegraph.world.</code><code class="descname">World</code><a class="headerlink" href="#raysect.optical.scenegraph.world.World" title="Permalink to this definition">¶</a></dt>
<dd><p>The root node of the optical scene-graph.</p>
<p>The world node tracks all primitives and observers in the world. It maintains acceleration structures to speed up
the ray-tracing calculations. The particular acceleration algorithm used is selectable. The default acceleration
structure is a kd-tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; A string defining the node name.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.build_importance">
<code class="descname">build_importance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.build_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method manually triggers a rebuild of the importance manager object.</p>
<p>If the importance manager object is already in a consistent state this method
will do nothing unless the force keyword option is set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<em>bint</em>) &#8211; If set to True, forces rebuilding of acceleration structure.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.has_important_primitives">
<code class="descname">has_important_primitives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.has_important_primitives" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if any primitives in this scene-graph have an importance weighting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.important_direction_pdf">
<code class="descname">important_direction_pdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.important_direction_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the value of the PDF for the specified sample point and direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; The point from which to sample.</li>
<li><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) &#8211; The sample direction.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.important_direction_sample">
<code class="descname">important_direction_sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.important_direction_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a sample direction of an important primitive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; The point from which to sample.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The vector along which to sample.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D">Vector3D</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.scenegraph.world.ImportanceManager">
<em class="property">class </em><code class="descclassname">raysect.optical.scenegraph.world.</code><code class="descname">ImportanceManager</code><a class="headerlink" href="#raysect.optical.scenegraph.world.ImportanceManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Specialist class for managing sampling of important primitives.</p>
<dl class="method">
<dt id="raysect.optical.scenegraph.world.ImportanceManager.has_primitives">
<code class="descname">has_primitives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.ImportanceManager.has_primitives" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if any primitives in this scene-graph have an importance weighting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.ImportanceManager.pdf">
<code class="descname">pdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.ImportanceManager.pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the value of the PDF for the specified sample point and direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; The point from which to sample.</li>
<li><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) &#8211; The sample direction.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.ImportanceManager.sample">
<code class="descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.ImportanceManager.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a random important primitive weighted by their importance weight.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) &#8211; The point from which to sample.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The vector along which to sample.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D">Vector3D</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="observers.html" class="btn btn-neutral float-right" title="3.2. Observers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="optical.html" class="btn btn-neutral" title="3. Optical Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, Dr Alex Meakins.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.3.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>