

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.1. Main Optical Classes &mdash; Raysect Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/RaysectLogo_web.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.2. Observers" href="observers.html" />
    <link rel="prev" title="3. Optical Module" href="optical.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Raysect
          

          
            
            <img src="../../_static/RaysectLogo_web.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">2. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">3. Downloading and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_it_works.html">4. How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart_guide.html">5. Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../observers.html">6. Sampling and Observers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primitives.html">7. Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../materials.html">8. Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">9. Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">10. References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">11. Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html">1. Core Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html#materials">2. Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html#observers">3. Observers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html#optics">4. Optics</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/core.html">1. Raysect Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../primitives/primitives.html">2. Primitives Module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="optical.html">3. Optical Module</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.1. Main Optical Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#optical-rays">3.1.1. Optical Rays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spectral-functions">3.1.2. Spectral Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#colours">3.1.3. Colours</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optical-scenegraph">3.1.4. Optical Scenegraph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="observers.html">3.2. Observers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipelines.html">3.3. Frame Samples and Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_material_base_classes.html">3.4. Optical Material Base Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_surfaces.html">3.5. Optical Surface Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_volumes.html">3.6. Optical Volume Materials</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Raysect</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="optical.html">3. Optical Module</a> &raquo;</li>
        
      <li>3.1. Main Optical Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api_reference/optical/main_optical_classes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="main-optical-classes">
<h1>3.1. Main Optical Classes<a class="headerlink" href="#main-optical-classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="optical-rays">
<h2>3.1.1. Optical Rays<a class="headerlink" href="#optical-rays" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.ray.Ray">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.ray.</code><code class="sig-name descname">Ray</code><a class="headerlink" href="#raysect.optical.ray.Ray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/core_classes.html#raysect.core.ray.Ray" title="raysect.core.ray.Ray"><code class="xref py py-class docutils literal notranslate"><span class="pre">raysect.core.ray.Ray</span></code></a></p>
<p>Optical Ray class for optical applications, inherits from core Ray class.</p>
<p>Provides the trace(world) method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) – Point defining ray’s origin (default=Point3D(0, 0, 0))</p></li>
<li><p><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) – Vector defining ray’s direction (default=Vector3D(0, 0, 1))</p></li>
<li><p><strong>min_wavelength</strong> (<em>float</em>) – Lower wavelength bound for observed spectrum</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – Upper wavelength bound for observed spectrum</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Number of samples to use over the spectral range</p></li>
<li><p><strong>max_distance</strong> (<em>float</em>) – The terminating distance of the ray</p></li>
<li><p><strong>extinction_prob</strong> (<em>float</em>) – Probability of path extinction at every
material surface interaction (default=0.1)</p></li>
<li><p><strong>extinction_min_depth</strong> (<em>int</em>) – Minimum number of paths before triggering
extinction probability (default=3)</p></li>
<li><p><strong>max_depth</strong> (<em>int</em>) – Maximum number of material interactions before
terminating ray trajectory.</p></li>
<li><p><strong>importance_sampling</strong> (<em>bool</em>) – Toggles use of importance sampling for
important primitives. See help documentation on importance sampling,
(default=True).</p></li>
<li><p><strong>important_path_weight</strong> (<em>float</em>) – Weight to use for important paths when
using importance sampling.</p></li>
</ul>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">World</span><span class="p">,</span> <span class="n">Ray</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span> <span class="o">=</span> <span class="n">Ray</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">Point3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">direction</span><span class="o">=</span><span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">min_wavelength</span><span class="o">=</span><span class="mi">375</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">max_wavelength</span><span class="o">=</span><span class="mi">785</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span>
<span class="go">&lt;raysect.optical.spectrum.Spectrum at 0x7f5b08b6e048&gt;</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="raysect.optical.ray.Ray.bins">
<code class="sig-name descname">bins</code><a class="headerlink" href="#raysect.optical.ray.Ray.bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of spectral bins across wavelength range.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a new Ray object with the same configuration settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) – New Ray’s origin position.</p></li>
<li><p><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) – New Ray’s direction.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../core/core_classes.html#raysect.core.ray.Ray" title="raysect.core.ray.Ray">Ray</a></p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">Ray</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span> <span class="o">=</span> <span class="n">Ray</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">Point3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">direction</span><span class="o">=</span><span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">min_wavelength</span><span class="o">=</span><span class="mi">375</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">max_wavelength</span><span class="o">=</span><span class="mi">785</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="go">Ray(Point3D(0.0, 0.0, -5.0), Vector3D(0.0, 0.0, 1.0), inf)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.extinction_min_depth">
<code class="sig-name descname">extinction_min_depth</code><a class="headerlink" href="#raysect.optical.ray.Ray.extinction_min_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of paths before triggering extinction probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.extinction_prob">
<code class="sig-name descname">extinction_prob</code><a class="headerlink" href="#raysect.optical.ray.Ray.extinction_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Probability of path extinction at every material surface interaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.important_path_weight">
<code class="sig-name descname">important_path_weight</code><a class="headerlink" href="#raysect.optical.ray.Ray.important_path_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight to use for important paths when using importance sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.max_depth">
<code class="sig-name descname">max_depth</code><a class="headerlink" href="#raysect.optical.ray.Ray.max_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of material interactions before terminating ray trajectory.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.max_wavelength">
<code class="sig-name descname">max_wavelength</code><a class="headerlink" href="#raysect.optical.ray.Ray.max_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper bound on wavelength range.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.min_wavelength">
<code class="sig-name descname">min_wavelength</code><a class="headerlink" href="#raysect.optical.ray.Ray.min_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower bound on wavelength range.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.new_spectrum">
<code class="sig-name descname">new_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.new_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Spectrum compatible with the ray spectral settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">Ray</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span> <span class="o">=</span> <span class="n">Ray</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">Point3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">direction</span><span class="o">=</span><span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">min_wavelength</span><span class="o">=</span><span class="mi">375</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">max_wavelength</span><span class="o">=</span><span class="mi">785</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span><span class="o">.</span><span class="n">new_spectrum</span><span class="p">()</span>
<span class="go">&lt;raysect.optical.spectrum.Spectrum at 0x7f5b08b6e1b0&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples the radiance directed along the ray direction.</p>
<p>This methods calls trace repeatedly to obtain a statistical sample of
the radiance directed along the ray direction from the world. The count
parameter specifies the number of samples to obtain. The mean spectrum
accumulated from these samples is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>world</strong> (<a class="reference internal" href="../core/raysect_core_scenegraph.html#raysect.core.scenegraph.world.World" title="raysect.core.scenegraph.world.World"><em>World</em></a>) – World object defining the scene.</p></li>
<li><p><strong>count</strong> (<em>int</em>) – Number of samples to take.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The accumulated spectrum collected by the ray.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">World</span><span class="p">,</span> <span class="n">Ray</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span> <span class="o">=</span> <span class="n">Ray</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">Point3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">direction</span><span class="o">=</span><span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">min_wavelength</span><span class="o">=</span><span class="mi">375</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">max_wavelength</span><span class="o">=</span><span class="mi">785</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">world</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">&lt;raysect.optical.spectrum.Spectrum at 0x7f5b08b6e318&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.spawn_daughter">
<code class="sig-name descname">spawn_daughter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.spawn_daughter" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawns a new daughter of the ray.</p>
<p>A daughter ray has the same spectral configuration as the source ray,
however the ray depth is increased by 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) – A Point3D defining the ray origin.</p></li>
<li><p><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) – A vector defining the ray direction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A daughter Ray object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../core/core_classes.html#raysect.core.ray.Ray" title="raysect.core.ray.Ray">Ray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.ray.Ray.trace">
<code class="sig-name descname">trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.ray.Ray.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Traces a single ray path through the world.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>world</strong> (<a class="reference internal" href="../core/raysect_core_scenegraph.html#raysect.core.scenegraph.world.World" title="raysect.core.scenegraph.world.World"><em>World</em></a>) – World object defining the scene.</p></li>
<li><p><strong>keep_alive</strong> (<em>bool</em>) – If true, disables Russian roulette termination of the ray.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The resulting Spectrum object collected by the ray.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.core</span> <span class="kn">import</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">Vector3D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">World</span><span class="p">,</span> <span class="n">Ray</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ray</span> <span class="o">=</span> <span class="n">Ray</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">Point3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">direction</span><span class="o">=</span><span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">min_wavelength</span><span class="o">=</span><span class="mi">375</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">max_wavelength</span><span class="o">=</span><span class="mi">785</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span>
<span class="go">&lt;raysect.optical.spectrum.Spectrum at 0x7f5b08b6e048&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.ray.Ray.wavelength_range">
<code class="sig-name descname">wavelength_range</code><a class="headerlink" href="#raysect.optical.ray.Ray.wavelength_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper and lower wavelength range.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spectral-functions">
<h2>3.1.2. Spectral Functions<a class="headerlink" href="#spectral-functions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.spectralfunction.SpectralFunction">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.spectralfunction.</code><code class="sig-name descname">SpectralFunction</code><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>SpectralFunction abstract base class.</p>
<p>A common interface for representing optical properties that are a function
of wavelength. It provides methods for sampling, integrating and averaging
a spectral function over specified wavelength ranges. The optical package
uses SpectralFunctions to represent a number of different wavelength
dependent optical properties, for example emission spectra, refractive
indices and attenuation curves.</p>
<p>Deriving classes must implement the integrate method.</p>
<p>It is also recommended that subclasses implement __call__(). This should
accept a single argument - wavelength - and return a single sample of the
function at that wavelength. The units of wavelength are nanometers.</p>
<p>A number of utility sub-classes exist to simplify SpectralFunction
development.</p>
<p>see also: NumericallyIntegratedSF, InterpolatedSF, ConstantSF, Spectrum</p>
<dl class="method">
<dt id="raysect.optical.spectralfunction.SpectralFunction.average">
<code class="sig-name descname">average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Average radiance over the requested spectral range (W/m^2/sr/nm).</p>
<p>Virtual method, to be implemented in child classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_wavelength</strong> (<em>float</em>) – lower wavelength for calculation</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – upper wavelength for calculation</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
<span class="go">1.095030870970234</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.SpectralFunction.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the spectral function f(wavelength)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wavelength</strong> (<em>float</em>) – Wavelength in nanometers.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.SpectralFunction.integrate">
<code class="sig-name descname">integrate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the integrated radiance over the specified spectral range.</p>
<p>Virtual method, to be implemented in child classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_wavelength</strong> (<em>float</em>) – The minimum wavelength in nanometers</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – The maximum wavelength in nanometers</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Integrated radiance in W/m^2/str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
<span class="go">328.50926129107023</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectralfunction.SpectralFunction.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectralfunction.SpectralFunction.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-sample the spectral function with a new wavelength range and resolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_wavelength</strong> (<em>float</em>) – lower wavelength for calculation</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – upper wavelength for calculation</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – The number of spectral bins</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span>
<span class="go">&lt;raysect.optical.spectrum.Spectrum at 0x7f56c22bd8b8&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">min_wavelength</span><span class="p">,</span> <span class="n">spectrum</span><span class="o">.</span><span class="n">max_wavelength</span>
<span class="go">(375.0, 785.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub_spectrum</span> <span class="o">=</span> <span class="n">spectrum</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">450</span><span class="p">,</span> <span class="mi">550</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectrum.Spectrum">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.spectrum.</code><code class="sig-name descname">Spectrum</code><a class="headerlink" href="#raysect.optical.spectrum.Spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>A class for working with spectra.</p>
<p>Describes the distribution of light at each wavelength in units of radiance (W/m^2/str/nm).
Spectral samples are regularly spaced over the wavelength range and lie in the centre of
the wavelength bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_wavelength</strong> (<em>float</em>) – Lower wavelength bound for this spectrum</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – Upper wavelength bound for this spectrum</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Number of samples to use over the spectral range</p></li>
</ul>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">Spectrum</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">Spectrum</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the sample values in the spectrum to zero.</p>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the spectrum.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.is_compatible">
<code class="sig-name descname">is_compatible</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.is_compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the stored samples are consistent with the specified
wavelength range and sample size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_wavelength</strong> (<em>float</em>) – The minimum wavelength in nanometers</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – The maximum wavelength in nanometers</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – The number of bins.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the samples are compatible with the range/samples, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.is_zero">
<code class="sig-name descname">is_zero</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.is_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to determine if all the samples are zero.</p>
<p>True if the spectrum is zero, False otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.new_spectrum">
<code class="sig-name descname">new_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.new_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Spectrum compatible with the same spectral settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum">Spectrum</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.to_photons">
<code class="sig-name descname">to_photons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.to_photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the spectrum sample array from radiance W/m^2/str/nm to Photons/s/m^2/str/nm
and returns the data in a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">to_photons</span><span class="p">()</span>
<span class="go">array([2.30744985e+17, 3.12842916e+17, ...])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.spectrum.Spectrum.total">
<code class="sig-name descname">total</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.total" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the total radiance integrated over the whole spectral range.</p>
<p>Returns radiance in W/m^2/str</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span> <span class="o">=</span> <span class="n">ray</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">world</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spectrum</span><span class="o">.</span><span class="n">total</span><span class="p">()</span>
<span class="go">416.6978223103715</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.spectrum.Spectrum.wavelengths">
<code class="sig-name descname">wavelengths</code><a class="headerlink" href="#raysect.optical.spectrum.Spectrum.wavelengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Wavelength array in nm</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectralfunction.NumericallyIntegratedSF">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.spectralfunction.</code><code class="sig-name descname">NumericallyIntegratedSF</code><a class="headerlink" href="#raysect.optical.spectralfunction.NumericallyIntegratedSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>Numerically integrates a supplied function.</p>
<p>This abstract class provides an implementation of the integrate method that
numerically integrates a supplied function (typically a non-integrable
analytical function). The function to numerically integrate is supplied by
sub-classing this class and implementing the function() method.</p>
<p>The function is numerically sampled at regular intervals. A sampling
resolution may be specified in the class constructor (default: 1 sample/nm).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sample_resolution</strong> (<em>double</em>) – The numerical sampling resolution in nanometers.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectralfunction.InterpolatedSF">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.spectralfunction.</code><code class="sig-name descname">InterpolatedSF</code><a class="headerlink" href="#raysect.optical.spectralfunction.InterpolatedSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>Linearly interpolated spectral function.</p>
<p>Spectral function defined by samples of regular or irregular spacing, ends
are extrapolated. You must set the ends to zero if you want the function to
go to zero at the edges!</p>
<p>wavelengths and samples will be sorted during initialisation.</p>
<p>If normalise is set to True the data is rescaled so the integrated area
of the spectral function over the full range of the input data is
normalised to 1.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wavelengths</strong> (<em>object</em>) – 1D array of wavelengths in nanometers.</p></li>
<li><p><strong>samples</strong> (<em>object</em>) – 1D array of spectral samples.</p></li>
<li><p><strong>normalise</strong> (<em>bool</em>) – True/false toggle for whether to normalise the
spectral function so its integral equals 1.</p></li>
</ul>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">InterpolatedSF</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># defining a set of spectral filters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_red</span> <span class="o">=</span> <span class="n">InterpolatedSF</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">650</span><span class="p">,</span> <span class="mi">660</span><span class="p">,</span> <span class="mi">670</span><span class="p">,</span> <span class="mi">680</span><span class="p">,</span> <span class="mi">800</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_green</span> <span class="o">=</span> <span class="n">InterpolatedSF</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">530</span><span class="p">,</span> <span class="mi">540</span><span class="p">,</span> <span class="mi">550</span><span class="p">,</span> <span class="mi">560</span><span class="p">,</span> <span class="mi">800</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_blue</span> <span class="o">=</span> <span class="n">InterpolatedSF</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">480</span><span class="p">,</span> <span class="mi">490</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">510</span><span class="p">,</span> <span class="mi">800</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.spectralfunction.ConstantSF">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.spectralfunction.</code><code class="sig-name descname">ConstantSF</code><a class="headerlink" href="#raysect.optical.spectralfunction.ConstantSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">raysect.optical.spectralfunction.SpectralFunction</span></code></a></p>
<p>Constant value spectral function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – Constant radiance value</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">raysect.optical</span> <span class="kn">import</span> <span class="n">ConstantSF</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unity_spectral_function</span> <span class="o">=</span> <span class="n">ConstantSF</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.spectrum.photon_energy">
<code class="sig-prename descclassname">raysect.optical.spectrum.</code><code class="sig-name descname">photon_energy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.spectrum.photon_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the energy of a photon with the specified wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wavelength</strong> (<em>float</em>) – Photon wavelength in nanometers.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Photon energy in Joules.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="colours">
<h2>3.1.3. Colours<a class="headerlink" href="#colours" title="Permalink to this headline">¶</a></h2>
<p>The CIE 1931 colour spaces define quantitatively the link between pure physical colours
(i.e. wavelengths in the visible spectrum) and human perceivable colours. The mathematical
relationships between the spectrum and perceivable colours are based on the sensitivity
curves for the three different cone cells in the human eye. Raysect implements three X,
Y, Z normalised spectral functions from the CIE 1931 Standard Colorimetric Observer. For
more information see <a class="reference external" href="https://en.wikipedia.org/wiki/CIE_1931_color_space">Wikipedia</a>.</p>
<dl class="data">
<dt id="raysect.optical.colour.ciexyz_x">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">ciexyz_x</code><a class="headerlink" href="#raysect.optical.colour.ciexyz_x" title="Permalink to this definition">¶</a></dt>
<dd><p>X spectral function from CIE 1931 Standard Colorimetric Observer (normalised)</p>
</dd></dl>

<dl class="data">
<dt id="raysect.optical.colour.ciexyz_y">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">ciexyz_y</code><a class="headerlink" href="#raysect.optical.colour.ciexyz_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Y spectral function from CIE 1931 Standard Colorimetric Observer (normalised)</p>
</dd></dl>

<dl class="data">
<dt id="raysect.optical.colour.ciexyz_z">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">ciexyz_z</code><a class="headerlink" href="#raysect.optical.colour.ciexyz_z" title="Permalink to this definition">¶</a></dt>
<dd><p>Z spectral function from CIE 1931 Standard Colorimetric Observer (normalised)</p>
</dd></dl>

<dl class="data">
<dt id="raysect.optical.colour.d65_white">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">d65_white</code><a class="headerlink" href="#raysect.optical.colour.d65_white" title="Permalink to this definition">¶</a></dt>
<dd><p>CIE D65 standard illuminant, normalised to 1.0 over visual range 375-785 nm</p>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.resample_ciexyz">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">resample_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.resample_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-calculates samples of XYZ sensitivity curves over desired spectral range.</p>
<p>Returns ndarray of shape [N, 3] where the last dimension (0, 1, 2) corresponds
to (X, Y, Z).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_wavelength</strong> (<em>float</em>) – Lower wavelength bound on spectrum</p></li>
<li><p><strong>max_wavelength</strong> (<em>float</em>) – Upper wavelength bound on spectrum</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – Number of spectral bins in spectrum</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>memoryview</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.spectrum_to_ciexyz">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">spectrum_to_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.spectrum_to_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a tuple of CIE X, Y, Z values from an input spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spectrum</strong> (<a class="reference internal" href="#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum"><em>Spectrum</em></a>) – Spectrum to process</p></li>
<li><p><strong>resampled_xyz</strong> (<em>memoryview</em>) – Pre-calculated XYZ sensitivity curves optimised
for this spectral range (default=None).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.ciexyy_to_ciexyz">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">ciexyy_to_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.ciexyy_to_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs conversion from CIE xyY to CIE XYZ colour space</p>
<p>Returns a tuple of (X, Y, Z)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cx</strong> (<em>float</em>) – chromaticity x</p></li>
<li><p><strong>cy</strong> (<em>float</em>) – chromaticity y</p></li>
<li><p><strong>y</strong> (<em>float</em>) – tristimulus Y</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.ciexyz_to_ciexyy">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">ciexyz_to_ciexyy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.ciexyz_to_ciexyy" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs conversion from CIE XYZ to CIE xyY colour space</p>
<p>Returns a tuple of (cx, cy, Y)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – tristimulus X</p></li>
<li><p><strong>y</strong> (<em>float</em>) – tristimulus y</p></li>
<li><p><strong>z</strong> (<em>float</em>) – tristimulus Z</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<p>Raysect also supports conversion of CIE colour space values to standard sRGB colour space
as defined by HP and Microsoft in 1996 as per IEC 61966-2-1:1999. For more information
see <a class="reference external" href="https://en.wikipedia.org/wiki/SRGB">Wikipedia</a>.</p>
<dl class="function">
<dt id="raysect.optical.colour.ciexyz_to_srgb">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">ciexyz_to_srgb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.ciexyz_to_srgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert CIE XYZ values to sRGB colour space.</p>
<p>x, y, z in range [0, 1]
r, g, b in range [0, 1]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – tristimulus X</p></li>
<li><p><strong>y</strong> (<em>float</em>) – tristimulus y</p></li>
<li><p><strong>z</strong> (<em>float</em>) – tristimulus Z</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="raysect.optical.colour.srgb_to_ciexyz">
<code class="sig-prename descclassname">raysect.optical.colour.</code><code class="sig-name descname">srgb_to_ciexyz</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.colour.srgb_to_ciexyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert sRGB values to CIE XYZ colour space.</p>
<p>r, g, b in range [0, 1]
x, y, z in range [0, 1]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>float</em>) – Red value</p></li>
<li><p><strong>g</strong> (<em>float</em>) – Green value</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Blue value</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="optical-scenegraph">
<h2>3.1.4. Optical Scenegraph<a class="headerlink" href="#optical-scenegraph" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.scenegraph.world.World">
<em class="property">class </em><code class="sig-prename descclassname">raysect.optical.scenegraph.world.</code><code class="sig-name descname">World</code><a class="headerlink" href="#raysect.optical.scenegraph.world.World" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/raysect_core_scenegraph.html#raysect.core.scenegraph.world.World" title="raysect.core.scenegraph.world.World"><code class="xref py py-class docutils literal notranslate"><span class="pre">raysect.core.scenegraph.world.World</span></code></a></p>
<p>The root node of the optical scene-graph.</p>
<p>Inherits a lot of functionality and attributes from the core World object.</p>
<p>The world node tracks all primitives and observers in the world. It maintains acceleration structures to speed up
the ray-tracing calculations. The particular acceleration algorithm used is selectable. The default acceleration
structure is a kd-tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – A string defining the node name.</p>
</dd>
</dl>
<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.build_importance">
<code class="sig-name descname">build_importance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.build_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>This method manually triggers a rebuild of the importance manager object.</p>
<p>If the importance manager object is already in a consistent state this method
will do nothing unless the force keyword option is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>force</strong> (<em>bint</em>) – If set to True, forces rebuilding of acceleration structure.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.has_important_primitives">
<code class="sig-name descname">has_important_primitives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.has_important_primitives" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if any primitives in this scene-graph have an importance weighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.important_direction_pdf">
<code class="sig-name descname">important_direction_pdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.important_direction_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the value of the PDF for the specified sample point and direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) – The point from which to sample.</p></li>
<li><p><strong>direction</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D"><em>Vector3D</em></a>) – The sample direction.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.scenegraph.world.World.important_direction_sample">
<code class="sig-name descname">important_direction_sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.scenegraph.world.World.important_direction_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a sample direction of an important primitive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>origin</strong> (<a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.point.Point3D" title="raysect.core.math.point.Point3D"><em>Point3D</em></a>) – The point from which to sample.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The vector along which to sample.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../core/points_and_vectors.html#raysect.core.math.vector.Vector3D" title="raysect.core.math.vector.Vector3D">Vector3D</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="observers.html" class="btn btn-neutral float-right" title="3.2. Observers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="optical.html" class="btn btn-neutral float-left" title="3. Optical Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2018, Dr Alex Meakins

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>