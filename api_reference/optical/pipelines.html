

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.3. Frame Samples and Pipelines &mdash; Raysect Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/RaysectLogo_web.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Raysect Documentation" href="../../index.html"/>
        <link rel="up" title="3. Optical Module" href="optical.html"/>
        <link rel="next" title="3.4. Optical Material Base Classes" href="optical_material_base_classes.html"/>
        <link rel="prev" title="3.2. Observers" href="observers.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Raysect
          

          
            
            <img src="../../_static/RaysectLogo_web.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">2. Downloading and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_it_works.html">3. How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart_guide.html">4. Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primitives.html">5. Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../materials.html">6. Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conventions.html">7. Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">8. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">9. Need Help?</a></li>
</ul>
<p class="caption"><span class="caption-text">Demonstrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html">1. Core Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demonstrations/demonstrations.html#examples-gallery">2. Examples Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/core.html">1. Raysect Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../primitives/primitives.html">2. Primitives Module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="optical.html">3. Optical Module</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="main_optical_classes.html">3.1. Main Optical Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="observers.html">3.2. Observers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.3. Frame Samples and Pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base-classes">3.3.1. Base Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#frame-sampler">3.3.1.1. Frame Sampler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pixel-processor">3.3.1.2. Pixel Processor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pipeline">3.3.1.3. Pipeline</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rgb">3.3.2. RGB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bayer">3.3.3. Bayer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#power">3.3.4. Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spectral">3.3.5. Spectral</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="optical_material_base_classes.html">3.4. Optical Material Base Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_surfaces.html">3.5. Optical Surface Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="optical_volumes.html">3.6. Optical Volume Materials</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Raysect</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="optical.html">3. Optical Module</a> &raquo;</li>
        
      <li>3.3. Frame Samples and Pipelines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api_reference/optical/pipelines.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="frame-samples-and-pipelines">
<h1>3.3. Frame Samples and Pipelines<a class="headerlink" href="#frame-samples-and-pipelines" title="Permalink to this headline">¶</a></h1>
<div class="section" id="base-classes">
<h2>3.3.1. Base Classes<a class="headerlink" href="#base-classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="frame-sampler">
<h3>3.3.1.1. Frame Sampler<a class="headerlink" href="#frame-sampler" title="Permalink to this headline">¶</a></h3>
<p>For the higher dimensional observers (&gt;0D) frame samplers determine how the individual
pixels that make up the observers frame are sampled. For example, sample the full frame
or adaptively select pixels to sample based on their noise level.</p>
<dl class="class">
<dt id="raysect.optical.observer.base.sampler.FrameSampler1D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.base.sampler.</code><code class="descname">FrameSampler1D</code><a class="headerlink" href="#raysect.optical.observer.base.sampler.FrameSampler1D" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for 1D frame samplers.</p>
<dl class="method">
<dt id="raysect.optical.observer.base.sampler.FrameSampler1D.generate_tasks">
<code class="descname">generate_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.sampler.FrameSampler1D.generate_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a list of tuples that selects the pixels to render.</p>
<p>Must return a list of tuples where each tuple contains the id of a pixel
to render. For example:</p>
<blockquote>
<div>tasks = [(1,), (5,), (512,), ...]</div></blockquote>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pixels</strong> (<em>int</em>) &#8211; The number of pixels in the frame.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.base.sampler.FrameSampler2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.base.sampler.</code><code class="descname">FrameSampler2D</code><a class="headerlink" href="#raysect.optical.observer.base.sampler.FrameSampler2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for 2D frame samplers.</p>
<dl class="method">
<dt id="raysect.optical.observer.base.sampler.FrameSampler2D.generate_tasks">
<code class="descname">generate_tasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.sampler.FrameSampler2D.generate_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a list of tuples that selects the pixels to render.</p>
<p>Must return a list of tuples where each tuple contains the id of a pixel
to render. For example:</p>
<blockquote>
<div>tasks = [(1, 10), (5, 53), (512, 354), ...]</div></blockquote>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pixels</strong> (<em>tuple</em>) &#8211; Contains the (x, y) pixel dimensions of the frame.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pixel-processor">
<h3>3.3.1.2. Pixel Processor<a class="headerlink" href="#pixel-processor" title="Permalink to this headline">¶</a></h3>
<p>A pixel processor handles the processing of the spectra for each pixel sampled by the
observer.</p>
<dl class="class">
<dt id="raysect.optical.observer.base.processor.PixelProcessor">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.base.processor.</code><code class="descname">PixelProcessor</code><a class="headerlink" href="#raysect.optical.observer.base.processor.PixelProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for pixel processors.</p>
<p>To optimally use computing resources, observers may use parallel processes
to sample the world.</p>
<p>Raysect observers launch multiple worker processes to sample the world, these
processes send their results back to a single process that combines them into
a frame.</p>
<p>In order to distribute the processing of the returned spectra, it is
necessary to perform the data processing on each worker.</p>
<p>Each worker is given a pixel id and a number of spectral samples to collect
for that pixel. The worker launches a ray to collect a sample and a spectrum is
returned. When a spectrum is obtained, the worker calls add_sample() on each
pixel processor associated with the pipelines attached to the observer. The pixel
prcoessor processes the spectrum and accumulates the results in its internal buffer.</p>
<p>When the pixel samples are complete the worker calls pack_results() on each pixel
processor. These results are sent back to the process handling the frame assembly.</p>
<dl class="method">
<dt id="raysect.optical.observer.base.processor.PixelProcessor.add_sample">
<code class="descname">add_sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.processor.PixelProcessor.add_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a spectrum and adds it to internal buffer.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>spectrum</strong> (<a class="reference internal" href="main_optical_classes.html#raysect.optical.spectrum.Spectrum" title="raysect.optical.spectrum.Spectrum"><em>Spectrum</em></a>) &#8211; The sampled spectrum.</li>
<li><strong>etendue</strong> (<em>float</em>) &#8211; The pixel etendue.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.processor.PixelProcessor.pack_results">
<code class="descname">pack_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.processor.PixelProcessor.pack_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Packs the contents of the internal buffer.</p>
<p>This method must return a tuple. The contents and length of the tuple are entirely
defined by the needs of the pipeline.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pipeline">
<h3>3.3.1.3. Pipeline<a class="headerlink" href="#pipeline" title="Permalink to this headline">¶</a></h3>
<p>Pipelines define how spectra are processed by observers into the form desired by the user.
For example, the power pipelines define how the measured spectra is integrated over the
spectral range to give the overall power in W arriving at the observing surfaces. The also
control the display and visualisation of results.</p>
<dl class="class">
<dt id="raysect.optical.observer.base.pipeline.Pipeline0D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.base.pipeline.</code><code class="descname">Pipeline0D</code><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline0D" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for 0D pipelines.</p>
<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline0D.finalise">
<code class="descname">finalise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline0D.finalise" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalises the results when rendering has finished.</p>
<p>This method is called when all workers have finished sampling and the results need
to undergo any final processing.</p>
<p>If this pipeline implements some form of visualisation, use this method to plot the
final visualisation of results.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline0D.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline0D.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises containers for the pipeline&#8217;s processing output.</p>
<p>The deriving class should use this method to perform any initialisation needed
for their calculations.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in the spectral range.</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in the spectral range.</li>
<li><strong>spectral_bins</strong> (<em>int</em>) &#8211; Number of spectral samples across wavelength range.</li>
<li><strong>spectral_slices</strong> (<em>list</em>) &#8211; List of spectral sub-ranges for cases where spectral
rays is &gt; 1 (i.e. dispersion effects turned on).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline0D.pixel_processor">
<code class="descname">pixel_processor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline0D.pixel_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise and return a pixel processor for this pipeline.</p>
<p>Called by worker threads, each worker will request a pixel processor for
processing the output of their work from each pipeline.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>slice_id</strong> (<em>int</em>) &#8211; The integer identifying the spectral slice being worked on
by the requesting worker thread.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#raysect.optical.observer.base.processor.PixelProcessor" title="raysect.optical.observer.base.processor.PixelProcessor">PixelProcessor</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline0D.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline0D.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal results array with packed results from the pixel processor.</p>
<p>After worker threads have observed the world and used the pixel processor to
process the spectra into packed results, the worker then passes the packed results
to the pipeline with the update() method.</p>
<p>If this pipeline implements some form of visualisation, update the visualisation
at the end of this method.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>slice_id</strong> (<em>int</em>) &#8211; The integer identifying the spectral slice being worked on
by the worker thread.</li>
<li><strong>packed_result</strong> (<em>tuple</em>) &#8211; The tuple of results generated by this pipeline&#8217;s
PixelProcessor.</li>
<li><strong>samples</strong> (<em>int</em>) &#8211; The number of samples taken by the worker. Needed for ensuring
accuracy of statistical errors when combining new samples with previous results.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.base.pipeline.Pipeline1D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.base.pipeline.</code><code class="descname">Pipeline1D</code><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline1D" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for 1D pipelines.</p>
<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline1D.finalise">
<code class="descname">finalise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline1D.finalise" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalises the results when rendering has finished.</p>
<p>This method is called when all workers have finished sampling and the results need
to undergo any final processing.</p>
<p>If this pipeline implements some form of visualisation, use this method to plot the
final visualisation of results.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline1D.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline1D.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises containers for the pipeline&#8217;s processing output.</p>
<p>The deriving class should use this method to perform any initialisation needed
for their calculations.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pixels</strong> (<em>tuple</em>) &#8211; A tuple defining the pixel dimensions being sampled
(i.e. (256,)).</li>
<li><strong>pixel_samples</strong> (<em>int</em>) &#8211; The number of samples being taken per pixel. Needed
for statistical calculations.</li>
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in the spectral range.</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in the spectral range.</li>
<li><strong>spectral_bins</strong> (<em>int</em>) &#8211; Number of spectral samples across wavelength range.</li>
<li><strong>spectral_slices</strong> (<em>list</em>) &#8211; List of spectral sub-ranges for cases where spectral
rays is &gt; 1 (i.e. dispersion effects turned on).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline1D.pixel_processor">
<code class="descname">pixel_processor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline1D.pixel_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise and return a pixel processor for this pipeline and pixel coordinate.</p>
<p>Called by worker threads, each worker will request a pixel processor for
the pixel they are processing.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pixel</strong> (<em>int</em>) &#8211; The pixel coordinate of the pixel being sampled by the worker.</li>
<li><strong>slice_id</strong> (<em>int</em>) &#8211; The integer identifying the spectral slice being worked on
by the requesting worker thread.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#raysect.optical.observer.base.processor.PixelProcessor" title="raysect.optical.observer.base.processor.PixelProcessor">PixelProcessor</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline1D.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline1D.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal results array with packed results from the pixel processor.</p>
<p>After worker threads have observed the world and used the pixel processor to
process the spectra into packed results, the worker then passes the packed results
for the current pixel to the pipeline with the update() method. This method should
add the results for this pixel to the pipeline&#8217;s results array.</p>
<p>If this pipeline implements some form of visualisation, update the visualisation
at the end of this method.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pixel</strong> (<em>int</em>) &#8211; The integer identifying the pixel being worked on.</li>
<li><strong>slice_id</strong> (<em>int</em>) &#8211; The integer identifying the spectral slice being worked on
by the worker thread.</li>
<li><strong>packed_result</strong> (<em>tuple</em>) &#8211; The tuple of results generated by this pipeline&#8217;s
PixelProcessor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.base.pipeline.Pipeline2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.base.pipeline.</code><code class="descname">Pipeline2D</code><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline2D" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for 2D pipelines.</p>
<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline2D.finalise">
<code class="descname">finalise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline2D.finalise" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalises the results when rendering has finished.</p>
<p>This method is called when all workers have finished sampling and the results need
to undergo any final processing.</p>
<p>If this pipeline implements some form of visualisation, use this method to plot the
final visualisation of results.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline2D.initialise">
<code class="descname">initialise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline2D.initialise" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises containers for the pipeline&#8217;s processing output.</p>
<p>The deriving class should use this method to perform any initialisation needed
for their calculations.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pixels</strong> (<em>tuple</em>) &#8211; A tuple defining the pixel dimensions being sampled
(i.e. (512, 512)).</li>
<li><strong>pixel_samples</strong> (<em>int</em>) &#8211; The number of samples being taken per pixel. Needed
for statistical calculations.</li>
<li><strong>min_wavelength</strong> (<em>float</em>) &#8211; The minimum wavelength in the spectral range.</li>
<li><strong>max_wavelength</strong> (<em>float</em>) &#8211; The maximum wavelength in the spectral range.</li>
<li><strong>spectral_bins</strong> (<em>int</em>) &#8211; Number of spectral samples across wavelength range.</li>
<li><strong>spectral_slices</strong> (<em>list</em>) &#8211; List of spectral sub-ranges for cases where spectral
rays is &gt; 1 (i.e. dispersion effects turned on).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline2D.pixel_processor">
<code class="descname">pixel_processor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline2D.pixel_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise and return a pixel processor for this pipeline and pixel coordinate.</p>
<p>Called by worker threads, each worker will request a pixel processor for
the pixel they are currently processing.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>int</em>) &#8211; The x pixel coordinate (x, y) of the pixel being sampled by the worker.</li>
<li><strong>y</strong> (<em>int</em>) &#8211; The y pixel coordinate (x, y) of the pixel being sampled by the worker.</li>
<li><strong>slice_id</strong> (<em>int</em>) &#8211; The integer identifying the spectral slice being worked on
by the requesting worker thread.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#raysect.optical.observer.base.processor.PixelProcessor" title="raysect.optical.observer.base.processor.PixelProcessor">PixelProcessor</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.base.pipeline.Pipeline2D.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.base.pipeline.Pipeline2D.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the internal results array with packed results from the pixel processor.</p>
<p>After worker threads have observed the world and used the pixel processor to
process the spectra into packed results, the worker then passes the packed results
for the current pixel to the pipeline with the update() method. This method should
add the results for this pixel to the pipeline&#8217;s results array.</p>
<p>If this pipeline implements some form of visualisation, update the visualisation
at the end of this method.</p>
<p>This is a virtual method and must be implemented in a sub class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>int</em>) &#8211; The x pixel coordinate (x, y) of the pixel being sampled by the worker.</li>
<li><strong>y</strong> (<em>int</em>) &#8211; The y pixel coordinate (x, y) of the pixel being sampled by the worker.</li>
<li><strong>slice_id</strong> (<em>int</em>) &#8211; The integer identifying the spectral slice being worked on
by the worker thread.</li>
<li><strong>packed_result</strong> (<em>tuple</em>) &#8211; The tuple of results generated by this pipeline&#8217;s
PixelProcessor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="rgb">
<h2>3.3.2. RGB<a class="headerlink" href="#rgb" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.rgb.</code><code class="descname">RGBPipeline2D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.pipeline.Pipeline2D" title="raysect.optical.observer.base.pipeline.Pipeline2D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.pipeline.Pipeline2D</span></code></a></p>
<p>2D pipeline of sRGB colour values.</p>
<p>Converts the measured spectrum from each pixel into sRGB
colour space values. See the colour module for more
information. The RGBPipeline2D class is the workhorse
pipeline for visualisation of scenes with Raysect and the
default pipeline for most 2D observers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>display_progress</strong> (<em>bool</em>) &#8211; Toggles the display of live render progress
(default=True).</li>
<li><strong>display_update_time</strong> (<em>float</em>) &#8211; Time in seconds between preview display
updates (default=15 seconds).</li>
<li><strong>accumulate</strong> (<em>bool</em>) &#8211; Whether to accumulate samples with subsequent calls
to observe() (default=True).</li>
<li><strong>display_auto_exposure</strong> (<em>bool</em>) &#8211; Toggles the use of automatic exposure of
final images (default=True).</li>
<li><strong>display_sensitivity</strong> (<em>float</em>) &#8211; The sensitivity of the camera, effectively
inverse of the exposure time (default=1.0).</li>
<li><strong>display_unsaturated_fraction</strong> (<em>float</em>) &#8211; Fraction of pixels that must not
be saturated. Display values will be scaled to satisfy this value
(default=1.0).</li>
<li><strong>name</strong> (<em>str</em>) &#8211; User friendly name for this pipeline.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display">
<code class="descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the RGB frame.</p>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_auto_exposure">
<code class="descname">display_auto_exposure</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_auto_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the use of automatic exposure on final image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_sensitivity">
<code class="descname">display_sensitivity</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>The sensitivity of the camera, effectively inverse of the exposure time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_unsaturated_fraction">
<code class="descname">display_unsaturated_fraction</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_unsaturated_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of pixels that must not be saturated. Display values will
be scaled to satisfy this value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_update_time">
<code class="descname">display_update_time</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D.display_update_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Time in seconds between preview display updates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.pipeline.rgb.RGBPipeline2D.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the display image to a png file.</p>
<p>The current display settings (exposure, gamma, etc..) are used to
process the image prior saving.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) &#8211; Image path and filename.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.rgb.XYZPixelProcessor">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.rgb.</code><code class="descname">XYZPixelProcessor</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.XYZPixelProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.processor.PixelProcessor" title="raysect.optical.observer.base.processor.PixelProcessor"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.processor.PixelProcessor</span></code></a></p>
<p>PixelProcessor that converts each pixel&#8217;s spectrum into three
XYZ colourspace values.</p>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.rgb.RGBAdaptiveSampler2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.rgb.</code><code class="descname">RGBAdaptiveSampler2D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.rgb.RGBAdaptiveSampler2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.sampler.FrameSampler2D" title="raysect.optical.observer.base.sampler.FrameSampler2D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.sampler.FrameSampler2D</span></code></a></p>
<p>FrameSampler that dynamically adjusts a camera&#8217;s pixel samples based on the noise
level in each RGB pixel value.</p>
<p>Pixels that have high noise levels will receive extra samples until the desired
noise threshold is achieve across the whole image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pipeline</strong> (<a class="reference internal" href="#raysect.optical.observer.pipeline.rgb.RGBPipeline2D" title="raysect.optical.observer.pipeline.rgb.RGBPipeline2D"><em>RGBPipeline2D</em></a>) &#8211; The specific RGB pipeline to use for feedback control.</li>
<li><strong>fraction</strong> (<em>float</em>) &#8211; The fraction of frame pixels to receive extra sampling
(default=0.2).</li>
<li><strong>ratio</strong> (<em>float</em>) &#8211; </li>
<li><strong>min_samples</strong> (<em>int</em>) &#8211; Minimum number of pixel samples across the image before
turning on adaptive sampling (default=1000).</li>
<li><strong>cutoff</strong> (<em>double</em>) &#8211; Noise threshold at which extra sampling will be aborted and
rendering will complete (default=0.0).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="bayer">
<h2>3.3.3. Bayer<a class="headerlink" href="#bayer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.bayer.</code><code class="descname">BayerPipeline2D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.pipeline.Pipeline2D" title="raysect.optical.observer.base.pipeline.Pipeline2D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.pipeline.Pipeline2D</span></code></a></p>
<p>A 2D pipeline simulating a Bayer filter.</p>
<p>Many commercial cameras use a Bayer filter for converting measured spectra into
a 2D image of RGB values. The 2D sensor pixel array is covered with a mosaic of
alternating red, green and blue filters. Thus each pixel in the array is only
responsive to one of the colour filters simulating the response of the human eye.
The final image is represented by a 2D grid of only red, green and blue values. The
eye interpolates these values to create other colours. See
<a class="reference external" href="https://en.wikipedia.org/wiki/Bayer_filter">Wikipedia</a> for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>red_filter</strong> (<a class="reference internal" href="main_optical_classes.html#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><em>SpectralFunction</em></a>) &#8211; The spectral function representing the red pixel filter.</li>
<li><strong>green_filter</strong> (<a class="reference internal" href="main_optical_classes.html#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><em>SpectralFunction</em></a>) &#8211; The spectral function representing the green pixel filter.</li>
<li><strong>blue_filter</strong> (<a class="reference internal" href="main_optical_classes.html#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><em>SpectralFunction</em></a>) &#8211; The spectral function representing the blue pixel filter.</li>
<li><strong>display_progress</strong> (<em>bool</em>) &#8211; Toggles the display of live render progress (default=True).</li>
<li><strong>display_update_time</strong> (<em>float</em>) &#8211; Time in seconds between preview display
updates (default=15 seconds).</li>
<li><strong>accumulate</strong> (<em>bool</em>) &#8211; Whether to accumulate samples with subsequent calls
to observe() (default=True).</li>
<li><strong>display_auto_exposure</strong> (<em>bool</em>) &#8211; Toggles the use of automatic exposure of
final images (default=True).</li>
<li><strong>display_black_point</strong> (<em>float</em>) &#8211; Lower clamp point for pixel to appear black
(default=0.0).</li>
<li><strong>display_white_point</strong> (<em>float</em>) &#8211; Upper clamp point for pixel saturation
(default=1.0).</li>
<li><strong>display_unsaturated_fraction</strong> (<em>float</em>) &#8211; Fraction of pixels that must not
be saturated. Display values will be scaled to satisfy this value
(default=1.0).</li>
<li><strong>display_gamma</strong> (<em>float</em>) &#8211; Gamma exponent to account for non-linear response of
display screens (default=2.2).</li>
<li><strong>name</strong> (<em>str</em>) &#8211; User friendly name for this pipeline (default=&#8221;Bayer Pipeline&#8221;).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display">
<code class="descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the RGB frame.</p>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_auto_exposure">
<code class="descname">display_auto_exposure</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_auto_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the use of automatic exposure on final image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_black_point">
<code class="descname">display_black_point</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_black_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower clamp point for pixel to appear black.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_gamma">
<code class="descname">display_gamma</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Power law exponent to approximate non-linear human eye response.</p>
<p>Each pixel value will be raised to power gamma:</p>
<div class="math">
\[V_{out} = V_{in}^{\gamma}\]</div>
<p>For more information see <a class="reference external" href="https://en.wikipedia.org/wiki/Gamma_correction">Wikipedia</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_unsaturated_fraction">
<code class="descname">display_unsaturated_fraction</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_unsaturated_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of pixels that must not be saturated. Display values will
be scaled to satisfy this value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_update_time">
<code class="descname">display_update_time</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_update_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Time in seconds between preview display updates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_white_point">
<code class="descname">display_white_point</code><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.display_white_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper clamp point for pixel colour saturation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.pipeline.bayer.BayerPipeline2D.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.pipeline.bayer.BayerPipeline2D.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the display image to a png file.</p>
<p>The current display settings (exposure, gamma, etc..) are used to
process the image prior saving.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) &#8211; Image path and filename.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="power">
<h2>3.3.4. Power<a class="headerlink" href="#power" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.observer.pipeline.power.PowerPipeline0D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.power.</code><code class="descname">PowerPipeline0D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPipeline0D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.pipeline.Pipeline0D" title="raysect.optical.observer.base.pipeline.Pipeline0D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.pipeline.Pipeline0D</span></code></a></p>
<p>A power pipeline for 0D observers.</p>
<p>The raw spectrum collected by the observer is multiplied by a spectra filter
and integrated to give to total power collected.</p>
<p>The measured value and error are accessed at self.value.mean and self.value.error
respectively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter</strong> (<a class="reference internal" href="main_optical_classes.html#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><em>SpectralFunction</em></a>) &#8211; A filter function to be multiplied with the
measured spectrum.</li>
<li><strong>accumulate</strong> (<em>bool</em>) &#8211; </li>
<li><strong>name</strong> (<em>str</em>) &#8211; User friendly name for this pipeline.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.power.PowerPipeline2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.power.</code><code class="descname">PowerPipeline2D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPipeline2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.pipeline.Pipeline2D" title="raysect.optical.observer.base.pipeline.Pipeline2D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.pipeline.Pipeline2D</span></code></a></p>
<p>A power pipeline for 2D observers.</p>
<p>The raw spectrum collected at each pixel by the observer is multiplied by
a spectral filter and integrated to give to total power collected at that
pixel.</p>
<p>The measured value and error for each pixel are accessed at self.frame.mean and self.frame.error
respectively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filter</strong> (<a class="reference internal" href="main_optical_classes.html#raysect.optical.spectralfunction.SpectralFunction" title="raysect.optical.spectralfunction.SpectralFunction"><em>SpectralFunction</em></a>) &#8211; A filter function to be multiplied with the
measured spectrum.</li>
<li><strong>display_progress</strong> (<em>bool</em>) &#8211; Toggles the display of live render progress
(default=True).</li>
<li><strong>display_update_time</strong> (<em>float</em>) &#8211; Time in seconds between preview display
updates (default=15 seconds).</li>
<li><strong>accumulate</strong> (<em>bool</em>) &#8211; Whether to accumulate samples with subsequent calls
to observe() (default=True).</li>
<li><strong>display_auto_exposure</strong> (<em>bool</em>) &#8211; Toggles the use of automatic exposure of
final images (default=True).</li>
<li><strong>display_black_point</strong> (<em>float</em>) &#8211; </li>
<li><strong>display_white_point</strong> (<em>float</em>) &#8211; </li>
<li><strong>display_unsaturated_fraction</strong> (<em>float</em>) &#8211; Fraction of pixels that must not
be saturated. Display values will be scaled to satisfy this value
(default=1.0).</li>
<li><strong>display_gamma</strong> (<em>float</em>) &#8211; </li>
<li><strong>name</strong> (<em>str</em>) &#8211; User friendly name for this pipeline.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.power.PowerPipeline2D.display_auto_exposure">
<code class="descname">display_auto_exposure</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPipeline2D.display_auto_exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the use of automatic exposure on final image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.power.PowerPipeline2D.display_unsaturated_fraction">
<code class="descname">display_unsaturated_fraction</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPipeline2D.display_unsaturated_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of pixels that must not be saturated. Display values will
be scaled to satisfy this value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="raysect.optical.observer.pipeline.power.PowerPipeline2D.display_update_time">
<code class="descname">display_update_time</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPipeline2D.display_update_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Time in seconds between preview display updates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="raysect.optical.observer.pipeline.power.PowerPipeline2D.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPipeline2D.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the display image to a png file.</p>
<p>The current display settings (exposure, gamma, etc..) are used to
process the image prior saving.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) &#8211; Image path and filename.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.power.PowerPixelProcessor">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.power.</code><code class="descname">PowerPixelProcessor</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerPixelProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.processor.PixelProcessor" title="raysect.optical.observer.base.processor.PixelProcessor"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.processor.PixelProcessor</span></code></a></p>
<p>PixelProcessor that converts each pixel&#8217;s spectrum into total power by
integrating over the spectrum and multiplying the resulting radiance
value by the pixel&#8217;s etendue.</p>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.power.PowerAdaptiveSampler2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.power.</code><code class="descname">PowerAdaptiveSampler2D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.power.PowerAdaptiveSampler2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.sampler.FrameSampler2D" title="raysect.optical.observer.base.sampler.FrameSampler2D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.sampler.FrameSampler2D</span></code></a></p>
<p>FrameSampler that dynamically adjusts a camera&#8217;s pixel samples based on the noise
level in each pixel&#8217;s power value.</p>
<p>Pixels that have high noise levels will receive extra samples until the desired
noise threshold is achieve across the whole image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pipeline</strong> (<a class="reference internal" href="#raysect.optical.observer.pipeline.power.PowerPipeline2D" title="raysect.optical.observer.pipeline.power.PowerPipeline2D"><em>PowerPipeline2D</em></a>) &#8211; The specific power pipeline to use for feedback control.</li>
<li><strong>fraction</strong> (<em>float</em>) &#8211; The fraction of frame pixels to receive extra sampling
(default=0.2).</li>
<li><strong>ratio</strong> (<em>float</em>) &#8211; </li>
<li><strong>min_samples</strong> (<em>int</em>) &#8211; Minimum number of pixel samples across the image before
turning on adaptive sampling (default=1000).</li>
<li><strong>cutoff</strong> (<em>double</em>) &#8211; Noise threshold at which extra sampling will be aborted and
rendering will complete (default=0.0).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="spectral">
<h2>3.3.5. Spectral<a class="headerlink" href="#spectral" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="raysect.optical.observer.pipeline.spectral.SpectralPipeline0D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.spectral.</code><code class="descname">SpectralPipeline0D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.spectral.SpectralPipeline0D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.pipeline.Pipeline0D" title="raysect.optical.observer.base.pipeline.Pipeline0D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.pipeline.Pipeline0D</span></code></a></p>
<p>A basic spectrum pipeline for 0D observers.</p>
<p>The raw spectrum for the observer is stored along with the associated
error on each wavelength bin.</p>
<p>Spectral values and errors are available through the self.frame attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>accumulate</strong> (<em>bool</em>) &#8211; Whether to accumulate samples with subsequent calls
to observe() (default=True).</li>
<li><strong>name</strong> (<em>str</em>) &#8211; User friendly name for this pipeline.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.spectral.SpectralPipeline2D">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.spectral.</code><code class="descname">SpectralPipeline2D</code><a class="headerlink" href="#raysect.optical.observer.pipeline.spectral.SpectralPipeline2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.pipeline.Pipeline2D" title="raysect.optical.observer.base.pipeline.Pipeline2D"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.pipeline.Pipeline2D</span></code></a></p>
<p>A basic spectrum pipeline for 2D observers.</p>
<p>The raw spectrum for each pixel is stored along with the associated
error on each wavelength bin in a 2D frame object.</p>
<p>Spectral values and errors are available through the self.frame attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>accumulate</strong> (<em>bool</em>) &#8211; Whether to accumulate samples with subsequent calls
to observe() (default=True).</li>
<li><strong>name</strong> (<em>str</em>) &#8211; User friendly name for this pipeline.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="raysect.optical.observer.pipeline.spectral.SpectralPixelProcessor">
<em class="property">class </em><code class="descclassname">raysect.optical.observer.pipeline.spectral.</code><code class="descname">SpectralPixelProcessor</code><a class="headerlink" href="#raysect.optical.observer.pipeline.spectral.SpectralPixelProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#raysect.optical.observer.base.processor.PixelProcessor" title="raysect.optical.observer.base.processor.PixelProcessor"><code class="xref py py-class docutils literal"><span class="pre">raysect.optical.observer.base.processor.PixelProcessor</span></code></a></p>
<p>PixelProcessor that stores the spectrum observed by each pixel.</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="optical_material_base_classes.html" class="btn btn-neutral float-right" title="3.4. Optical Material Base Classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="observers.html" class="btn btn-neutral" title="3.2. Observers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, Dr Alex Meakins.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.3.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>