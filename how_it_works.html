<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. How it works &#8212; Raysect 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/RaysectLogo_web.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Quickstart Guide" href="quickstart_guide.html" />
    <link rel="prev" title="2. Downloading and Installation" href="installation.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="quickstart_guide.html" title="4. Quickstart Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Downloading and Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Raysect 0.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-it-works">
<h1>3. How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-a-ray-tracer">
<h2>3.1. What is a ray tracer?<a class="headerlink" href="#what-is-a-ray-tracer" title="Permalink to this headline">¶</a></h2>
<p>An algorithm for simulating light propogation, light is modelled as a bundle of rays that travel through a scene. The
paths of the rays follow a straight line unless they interact with objects in the scene. A wide variety of optical
interactions can be simulated such as reflection and refraction, scattering, and dispersion. The technique is used in
computer graphics to generate photo realistic images of a 3D scene that are ideally indistinguishable from a photo of
the same scene.</p>
<p>Same example scientific applications:</p>
<ul class="simple">
<li>Design of lenses and optical systems, such as cameras, microscopes and telescopes. Image-forming properties of a system to be modeled.</li>
<li>Simulating optical diagnostics of plasmas through forward modelling, diagnostic design optimisation.</li>
</ul>
<p>Ray-tracing is typically very computationally expensive and is best suited for applications that don&#8217;t require real-time
calculation.</p>
</div>
<div class="section" id="key-concepts">
<h2>3.2. Key Concepts<a class="headerlink" href="#key-concepts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="rays">
<h3>3.2.1. Rays<a class="headerlink" href="#rays" title="Permalink to this headline">¶</a></h3>
<p>Represent a ray of light</p>
<ul class="simple">
<li>defines a line with an origin and direction</li>
<li>wavelength range and number of spectral samples, centre of range used for refraction calculations</li>
</ul>
<p>Ray objects must implement a tracing algorithm</p>
<ul class="simple">
<li>spectrum = ray.trace(world)</li>
<li>causes the ray to start sampling the world</li>
<li>returns a Spectrum object</li>
<li>samples of spectral radiance: W/m 2 /str/nm</li>
</ul>
</div>
<div class="section" id="observers">
<h3>3.2.2. Observers<a class="headerlink" href="#observers" title="Permalink to this headline">¶</a></h3>
<p>Represents objects that measure light, e.g. CCDs, cameras, photo diodes, eyes. Observers launch rays and accumulate
samples of the scene, which is more convenient than tracing individual rays manually.</p>
<ul class="simple">
<li>can be placed in the world and moved around</li>
<li>observe() method triggers ray-tracing, i.e camera.observe()</li>
</ul>
</div>
<div class="section" id="primitives">
<h3>3.2.3. Primitives<a class="headerlink" href="#primitives" title="Permalink to this headline">¶</a></h3>
<p>Scenes in Raysect consist of primitives, which are the basic objects making up the scene. These are objects that rays
can interact with, e.g light sources, lenses, mirrors, diffuse surfaces. Types of primitives:</p>
<ul class="simple">
<li>Mathematically defined surfaces and solids (i.e. sphere, box, cylinder, cone).</li>
<li>Constructive Solid Geometry Operators (union, intersect, subtract).</li>
<li>Tri-poly meshes optimised for millions of polygons, support instancing. Importers for STL and OBJ.</li>
</ul>
<p>Primitive surfaces and volumes can be assigned materials, e.g. glass, metal, emitter properties.</p>
</div>
<div class="section" id="scene-graph">
<h3>3.2.4. Scene-graph<a class="headerlink" href="#scene-graph" title="Permalink to this headline">¶</a></h3>
<p>Primitives and Observers are typically defined in their own local coordinate system but need to be placed into the
“world”. There needs to be a system to keep track of the locations/co-ordinate transforms of all objects in the scene.</p>
<p>The Scene-graph is a tree structure consisting of nodes, which can be both primitives and observers. Each node has an
associated coordinate space and is translated/rotated relative to it&#8217;s parent node. I.e. a car node may have four
wheel nodes as children. Operations applied to a parent are automatically propogated down to all children. The resulting
data structure describes the spatial arrangement of primitives throughout a scene.</p>
<p>The World is the root node of the scene-graph - all primitives and observers must be attached to World. When adding
nodes to the world, nodes are always parented to another node (e.g. World) and given a transform (e.g. a translation
and/or rotation) relative to their parent. Allows us to build hierarchies of objects and manipulate the whole group with
one transform.</p>
</div>
</div>
<div class="section" id="process-of-raytracing">
<h2>3.3. Process of raytracing<a class="headerlink" href="#process-of-raytracing" title="Permalink to this headline">¶</a></h2>
<p>We desire the intensity/spectrum of light reaching an observer e.g. camera pixel. Our strategy is to sample light
(radiance) along paths reaching observer and accumulate many samples to obtain intensity. Raysect uses a “Path tracing”
algorithm where we trace a ray from the observer through all material interactions until it reaches a light source.
Finally, we propagate the resulting spectrum from the light source back through all material/volume interactions.</p>
<p>Rays are fired backwards from the observer towards light sources since this is more computationally efficient than the
other way round. The majority of light rays fired from a light source won&#8217;t reach the observer resulting in wasted
computation.</p>
<p>During ray propogation, rays are tested for intersection with objects in the scene. Once the nearest object has been
identified, the material properties of the object are inspected to determe the next step of the algorithm. Materials can
alter the path of ray propogation and alter the ray&#8217;s spectra through absorbtion and reflection curves. Some materials
will require more rays to be launched to return an accurate spectra.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/RaysectLogo_web.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. How it works</a><ul>
<li><a class="reference internal" href="#what-is-a-ray-tracer">3.1. What is a ray tracer?</a></li>
<li><a class="reference internal" href="#key-concepts">3.2. Key Concepts</a><ul>
<li><a class="reference internal" href="#rays">3.2.1. Rays</a></li>
<li><a class="reference internal" href="#observers">3.2.2. Observers</a></li>
<li><a class="reference internal" href="#primitives">3.2.3. Primitives</a></li>
<li><a class="reference internal" href="#scene-graph">3.2.4. Scene-graph</a></li>
</ul>
</li>
<li><a class="reference internal" href="#process-of-raytracing">3.3. Process of raytracing</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">2. Downloading and Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="quickstart_guide.html"
                        title="next chapter">4. Quickstart Guide</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/how_it_works.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="quickstart_guide.html" title="4. Quickstart Guide"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Downloading and Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Raysect 0.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2017, Dr Alex Meakins.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>